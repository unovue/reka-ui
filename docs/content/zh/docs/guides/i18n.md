---
title: 国际化 & RTL
description: Reka UI 支持 LTR/RTL 两个方向。详细了解如何集成国际化。
---

# 国际化 & RTL

<Description>
Reka UI 支持 LTR/RTL 两个方向。详细了解如何集成国际化。
</Description>

## 多方向支持

### 介绍

本文档提供了有关如何在 Reka UI 中使用具有 SSR 支持的多向支持的指导。Reka UI 依靠 [`Floating UI`](https://floating-ui.com/) 来定位浮动元素，这需要 Web 应用程序的当前方向。

默认情况下，Reka 组件是 LTR，但您可以控制要支持的方向（仅 LTR、RTL 或两者）。本节提供了轻松支持 RTL 方向的最佳实践。

### RTL

[`ConfigProvider`](/zh/docs/utilities/config-provider) 是一个包装器组件，用于提供全局配置，包括 Web 应用程序的方向性。

当创建需要从右到左 （RTL） 读取方向的本地化应用程序时，你需要使用 `ConfigProvider` 组件包装你的应用程序，以确保所有 primitives 都根据 `dir` 属性调整它们的行为。

要使所有 Reka UI RTL，请将整个应用程序包装在 `ConfigProvider` 中，并传递值为 `rtl` 的 `dir` 属性。

将以下代码添加到您的 `app.vue` 或主布局组件中：

```vue
<script setup lang="ts">
import { ConfigProvider } from 'reka-ui'
</script>

<template>
  <ConfigProvider dir="rtl">
    <slot />
  </ConfigProvider>
</template>
```

包装在提供程序中的所有 Reka 组件都继承 `dir` 属性。

### 动态方向

要动态更改 Reka UI 的方向，我们可以利用 [`useTextDirection`](https://vueuse.org/core/useTextDirection/) 组合式函数并将其与我们的 `ConfigProvider` 结合使用。

但首先，我们需要安装 [`@vueuse/core`](https://vueuse.org/) 包。

<InstallationTabs value="@vueuse/core" />

然后在你的根 Vue 文件中：

```vue
<script setup lang="ts">
import { computed } from 'vue'
import { ConfigProvider } from 'reka-ui'
import { useTextDirection } from '@vueuse/core'

const textDirection = useTextDirection()
const dir = computed(() => textDirection.value === 'rtl' ? 'rtl' : 'ltr')
</script>

<template>
  <ConfigProvider :dir="dir">
    <slot />
  </ConfigProvider>
</template>
```

要支持 SSR - 当服务器无法访问 `html` 及其方向时，请在 `useTextDirection` 中设置 `initialValue`。

```vue{5}
<script setup lang="ts">
import { ConfigProvider } from 'reka-ui'
import { useTextDirection } from '@vueuse/core'

const textDirection = useTextDirection({ initialValue: 'rtl' })
const dir = computed(() => textDirection.value === 'rtl' ? 'rtl' : 'ltr')
</script>

<template>
  <ConfigProvider :dir="dir">
    <slot />
  </ConfigProvider>
</template>
```

<Callout type="info">

`dir` prop 不支持将 `auto` 作为值，因此我们需要一个中间的 Ref 来显式定义方向。

</Callout>

`textDirection` 是一个 [`Ref`](https://cn.vuejs.org/api/reactivity-core.html#ref)，通过将其值更改为 “ltr” 或 “rtl”，`html` 标签上的 `dir` 属性也会发生变化。

## 国际化

一些语言是从 LTR 编写的，而另一些语言是用 RTL 编写的。在多语言 Web 应用程序中，您需要在翻译的同时配置方向性。这是有关如何使用 `reka-ui` primitives 实现此目的的简化指南。

但首先，让我们安装一些必需的软件包。

### 依赖

我们依靠 [`VueI18n`](https://vue-i18n.intlify.dev/) 来管理我们想要支持的不同翻译。

<InstallationTabs value="vue-i18n@latest" />

请继续在 `main.ts` 上为单词 “hello” 添加一些不同语言的翻译。

```ts{4-26,29}
import { createApp } from 'vue'
import './style.css'
import App from './App.vue'
import { createI18n } from 'vue-i18n'

const messages = {
  en: {
    hello: 'Hello',
  },
  fa: {
    hello: 'درود',
  },
  ar: {
    hello: 'مرحبا',
  },
  ja: {
    hello: 'こんにちは',
  }
}

const i18n = createI18n({
  legacy: false, // you must set `false` to use the Composition API
  locale: 'en', // set default locale
  availableLocales: ['en', 'fa', 'ar', 'ja'],
  messages,
})

createApp(App)
  .use(i18n)
  .mount('#app')
```

### 语言选择器

设置翻译并添加 `vue-i18n` 插件后，我们需要在你的 `app.vue` 中有一个语言选择器。通过使用此 `reka-ui` select primitive 更改语言：
1. 翻译对新语言有响应
2. Web 应用程序的方向对新语言的方向有响应

```vue
<script setup lang="ts">
import { ConfigProvider, SelectContent, SelectGroup, SelectItem, SelectItemIndicator, SelectItemText, SelectLabel, SelectPortal, SelectRoot, SelectScrollDownButton, SelectScrollUpButton, SelectTrigger, SelectValue, SelectViewport, } from 'reka-ui'
import { useTextDirection } from '@vueuse/core'

import { useI18n } from 'vue-i18n'
import { ref } from 'vue'

type LanguageInfo = {
  label: string
  value: string
  dir: 'ltr' | 'rtl'
}

const dir = useTextDirection({ initialValue: 'ltr' })
const { locale } = useI18n()

const selectedLanguage = ref<string>()

const languages: LanguageInfo[] = [
  { label: 'English', value: 'en', dir: 'ltr' },
  { label: 'Persian', value: 'fa', dir: 'rtl' },
  { label: 'Arabic', value: 'ar', dir: 'rtl' },
  { label: 'Japanese', value: 'ja', dir: 'ltr' },
]

function selectLanguage(newLanguage: string) {
  const langInfo = languages.find(item => item.value === newLanguage)

  if (!langInfo)
    return

  dir.value = langInfo.dir
  locale.value = langInfo.value
}
</script>

<template>
  <ConfigProvider :dir="dir">
    <div class="flex flex-col max-w-[1400px] mx-auto gap-y-[8rem] justify-center items-center p-10">
      <div class="text-2xl">
        👋 {{ $t("hello") }}
      </div>
      <div class="text-2xl">
        HTML is in <span class="text-bold text-purple-500">{{ dir }}</span> mode
      </div>

      <SelectRoot
        v-model="selectedLanguage"
        @update:model-value="selectLanguage"
      >
        <SelectTrigger
          class="inline-flex min-w-[160px] items-center justify-between rounded px-[15px] text-[13px] leading-none h-[35px] gap-[5px] bg-white text-grass11 shadow-[0_2px_10px] shadow-black/10 hover:bg-mauve3 focus:shadow-[0_0_0_2px] focus:shadow-black data-[placeholder]:text-green9 outline-none"
          aria-label="Customize options"
        >
          <SelectValue placeholder="Select a language..." />
          <Icon
            icon="radix-icons:chevron-down"
            class="h-3.5 w-3.5"
          />
        </SelectTrigger>

        <SelectPortal>
          <SelectContent
            class="min-w-[160px] bg-white rounded shadow-[0px_10px_38px_-10px_rgba(22,_23,_24,_0.35),_0px_10px_20px_-15px_rgba(22,_23,_24,_0.2)] will-change-[opacity,transform] data-[side=top]:animate-slideDownAndFade data-[side=right]:animate-slideLeftAndFade data-[side=bottom]:animate-slideUpAndFade data-[side=left]:animate-slideRightAndFade z-[100]"
            :side-offset="5"
          >
            <SelectScrollUpButton
              class="flex items-center justify-center h-[25px] bg-white text-violet11 cursor-default"
            >
              <Icon icon="radix-icons:chevron-up" />
            </SelectScrollUpButton>

            <SelectViewport class="p-[5px]">
              <SelectLabel class="px-[25px] text-xs leading-[25px] text-mauve11">
                Languages
              </SelectLabel>
              <SelectGroup>
                <SelectItem
                  v-for="(option, index) in languages"
                  :key="index"
                  class="text-[13px] leading-none text-grass11 rounded-[3px] flex items-center h-[25px] pr-[35px] pl-[25px] relative select-none data-[disabled]:text-mauve8 data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-green9 data-[highlighted]:text-green1"
                  :value="option.value"
                >
                  <SelectItemIndicator class="absolute left-0 w-[25px] inline-flex items-center justify-center">
                    <Icon icon="radix-icons:check" />
                  </SelectItemIndicator>
                  <SelectItemText>
                    {{ option.label }}
                  </SelectItemText>
                </SelectItem>
              </SelectGroup>
            </SelectViewport>

            <SelectScrollDownButton
              class="flex items-center justify-center h-[25px] bg-white text-violet11 cursor-default"
            >
              <Icon icon="radix-icons:chevron-down" />
            </SelectScrollDownButton>
          </SelectContent>
        </SelectPortal>
      </SelectRoot>
    </div>
  </ConfigProvider>
</template>
```
